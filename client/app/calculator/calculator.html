<navbar></navbar>
<div class="container">
<form name="calculatorFormPrice" class="form-inline">
    <div class="form-group col-md-offset-1" ng-class="{'has-error': calculatorFormPrice.priceColones.$invalid}">
        <label for="priceColones" class="control-label">Price in colones</label>
        <input type="number" id="priceColones" name="priceColones" class="form-control" ng-model="calculator.priceColones" ng-pattern="/^[0-9]+$/" ng-change="calculator.computeReturnOrcardPayment(calculatorFormPrice.$valid)" placeholder="{{calculator.displayedPriceColones}} &#8353;" />
    </div>

    <div class="form-group" ng-class="{'has-error': calculatorFormPrice.priceDollars.$invalid}">
        <label for="priceDollars" class="control-label">Price in dollars</label>
        <input type="number" id="priceDollars" name="priceDollars" class="form-control" ng-model="calculator.priceDollars" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-change="calculator.computeReturnOrcardPayment(calculatorFormPrice.$valid)" placeholder="{{calculator.displayedPriceDollars}} &#36;" />
    </div>

    <label for="rate">Change rate</label>
    <select ng-model="calculator.rate" ng-change="calculator.computeReturnOrcardPayment(calculatorFormPrice.$valid)">
        <option value="540" selected>540</option>
        <option value="500">500</option>
    </select>
</form>

<br>

<form name="calculatorFormPayment" class="form-inline" ng-show="!calculator.cardPayment">
    <div class="form-group col-md-offset-1" ng-class="{'has-error': calculatorFormPayment.customerPaymentColones.$invalid}">
        <label for="customerPaymentColones" class="control-label">Payment in colones</label>
        <input type="number" id="customerPaymentColones" name="customerPaymentColones" class="form-control" ng-model="calculator.customerPaymentColones" ng-pattern="/^[0-9]+$/" ng-change="calculator.computeReturnOrcardPayment(calculatorFormPayment.$valid)" placeholder="&#8353;" />
    </div>

    <div class="form-group" ng-class="{'has-error': calculatorFormPayment.customerPaymentDollars.$invalid}">
        <label for="customerPaymentDollars" class="control-label">Payment in dollars</label>
        <input type="number" id="customerPaymentDollars" name="customerPaymentDollars" class="form-control" ng-model="calculator.customerPaymentDollars" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-change="calculator.computeReturnOrcardPayment(calculatorFormPayment.$valid)" placeholder="&#36;" />
    </div>
</form>
<div ng-show="calculator.customerPaymentDollars && calculator.customerPaymentColones && !calculator.cardPayment" class="col-md-offset-1">
    <span class="glyphicon glyphicon-warning-sign text-info" aria-hidden="true"></span><span class="text-info"> Payment combines colones and dollars</span>
</div>

<br/>

<form class="form-inline">
    <div class="checkbox col-md-offset-1">
        <label>
            <input type="checkbox" ng-model="calculator.cardPayment"> Card Payment
        </label>
    </div>
</form>

<br/>

<form class="form-inline">
    <div class="form-group col-md-offset-1">
        <button type="reset" class="btn btn-default" ng-click="calculator.reset()">Reset</button>
    </div>
</form>

<hr>

<div class="col-md-offset-1" ng-show="!calculator.cardPayment && (calculator.returnColones || calculator.returnDollars)">
    <h4>
        <p>
            <span><b>Customer change in colones:</b></span>
            <span class="label label-info">{{calculator.returnColones}} &#8353;</span>
        </p>
        <p>
            <span><b>Customer change in dollars:</b></span>
            <span class="label label-info">{{calculator.returnDollars}} &#36;</span>
        </p>
    </h4>
</div>


<div class="col-md-offset-1" ng-show="calculator.cardPayment && (calculator.priceDollars || calculator.priceColones)">
    <h4>
        <p>
            <span><b>Charge customer:</b></span>
            <span class="label label-info">{{calculator.cardPaymentDollars}} &#36;</span>
        </p>
        <p class="help-block">Card payment commission is {{calculator.cardPaymentCommissionPercent}}%</p>    
    </div>
    </h4>
</div>
</div>